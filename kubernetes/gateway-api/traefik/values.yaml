deployment:
  kind: DaemonSet

ports:
  web:
    port: 80                  # ← Container listen port = 80 (matches what Gateway expects)
    hostPort: 80              # ← Host bind port = 80
    protocol: TCP
    expose:
      default: true

service:
  enabled: false              # Still no Service needed

providers:
  kubernetesGateway:
    enabled: true
  kubernetesIngress:
    enabled: false            # Optional, but good to disable if not using legacy Ingress

gateway:
  enabled: false              # Keep disabled to avoid chart's default Gateway

securityContext:
  capabilities:
    drop: ["ALL"]
    add: ["NET_BIND_SERVICE"] # Keep this — helps with low ports (even as root sometimes)
  readOnlyRootFilesystem: true
  runAsNonRoot: false         # We're running as root for reliability
  runAsUser: 0
  runAsGroup: 0

podSecurityContext:
  fsGroup: 0

logs:
  general:
    level: INFO
  access:
    enabled: true

additionalArguments:
  - "--log.level=INFO"
  - "--accesslog=true"
  - "--accesslog.fields.defaultmode=keep"  # Optional: more verbose access logs
